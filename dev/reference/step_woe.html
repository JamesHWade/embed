<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Weight of evidence transformation — step_woe • embed</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../tidymodels.css" rel="stylesheet">




<meta property="og:title" content="Weight of evidence transformation — step_woe" />
<meta property="og:description" content="step_woe creates a specification of a
recipe step that will transform nominal data into its numerical
transformation based on weights of evidence against a binary outcome." />
<meta property="og:image" content="https://embed.tidymodels.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">embed</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of <a href="https://tidymodels.org">tidymodels</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.4.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/Applications/GLM.html">Generalized Linear Models</a>
</li>
<li>
  <a href="../articles/Applications/Tensorflow.html">Tensorflow</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/embed/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Weight of evidence transformation</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidymodels/embed/blob/master/R/woe.R'><code>R/woe.R</code></a></small>
    <div class="hidden name"><code>step_woe.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>step_woe</code> creates a <em>specification</em> of a
recipe step that will transform nominal data into its numerical
transformation based on weights of evidence against a binary outcome.</p>
    </div>

    <pre class="usage"><span class='fu'>step_woe</span><span class='op'>(</span>
  <span class='va'>recipe</span>,
  <span class='va'>...</span>,
  role <span class='op'>=</span> <span class='st'>"predictor"</span>,
  <span class='va'>outcome</span>,
  trained <span class='op'>=</span> <span class='cn'>FALSE</span>,
  dictionary <span class='op'>=</span> <span class='cn'>NULL</span>,
  Laplace <span class='op'>=</span> <span class='fl'>1e-06</span>,
  prefix <span class='op'>=</span> <span class='st'>"woe"</span>,
  skip <span class='op'>=</span> <span class='cn'>FALSE</span>,
  id <span class='op'>=</span> <span class='fu'><a href='https://recipes.tidymodels.org/reference/rand_id.html'>rand_id</a></span><span class='op'>(</span><span class='st'>"woe"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='co'># S3 method for step_woe</span>
<span class='fu'><a href='https://generics.r-lib.org/reference/tidy.html'>tidy</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>recipe</th>
      <td><p>A recipe object. The step will be added to the
sequence of operations for this recipe.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>One or more selector functions to choose which
variables will be used to compute the components. See
<code><a href='https://recipes.tidymodels.org/reference/selections.html'>selections()</a></code> for more details. For the <code>tidy</code>
method, these are not currently used.</p></td>
    </tr>
    <tr>
      <th>role</th>
      <td><p>For model terms created by this step, what analysis
role should they be assigned?. By default, the function assumes
that the new woe components columns created by the original
variables will be used as predictors in a model.</p></td>
    </tr>
    <tr>
      <th>outcome</th>
      <td><p>The bare name of the binary outcome encased in <code><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars()</a></code>.</p></td>
    </tr>
    <tr>
      <th>trained</th>
      <td><p>A logical to indicate if the quantities for
preprocessing have been estimated.</p></td>
    </tr>
    <tr>
      <th>dictionary</th>
      <td><p>A tbl. A map of levels and woe values. It must
have the same layout than the output returned from <code><a href='dictionary.html'>dictionary()</a></code>.
If `NULL`` the function will build a dictionary with those variables
passed to <code>...</code>. See <code><a href='dictionary.html'>dictionary()</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>Laplace</th>
      <td><p>The Laplace smoothing parameter. A value usually
applied to avoid -Inf/Inf from predictor category with only one
outcome class. Set to 0 to allow Inf/-Inf. The default is 1e-6.
Also known as 'pseudocount' parameter of the Laplace smoothing technique.</p></td>
    </tr>
    <tr>
      <th>prefix</th>
      <td><p>A character string that will be the prefix to the
resulting new variables. See notes below.</p></td>
    </tr>
    <tr>
      <th>skip</th>
      <td><p>A logical. Should the step be skipped when the
recipe is baked by <code><a href='https://recipes.tidymodels.org/reference/bake.html'>recipes::bake.recipe()</a></code>? While all operations are baked
when <code><a href='https://recipes.tidymodels.org/reference/prep.html'>recipes::prep.recipe()</a></code> is run, some operations may not be able to be
conducted on new data (e.g. processing the outcome variable(s)).
Care should be taken when using <code>skip = TRUE</code> as it may affect
the computations for subsequent operations</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>A character string that is unique to this step to identify it.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>A <code>step_woe</code> object.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An updated version of <code>recipe</code> with the new step
added to the sequence of existing steps (if any). For the
<code>tidy</code> method, a tibble with the woe dictionary used to map
categories with woe values.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>WoE is a transformation of a group of variables that produces
a new set of features. The formula is</p>
<p>$$woe_c = log((P(X = c|Y = 1))/(P(X = c|Y = 0)))$$</p>
<p>where \(c\) goes from 1 to \(C\) levels of a given nominal
predictor variable \(X\).</p>
<p>These components are designed to transform nominal variables into
numerical ones with the property that the order and magnitude
reflects the association with a binary outcome.  To apply it on
numerical predictors, it is advisable to discretize the variables
prior to running WoE. Here, each variable will be binarized to
have woe associated later. This can achieved by using <code><a href='https://recipes.tidymodels.org/reference/step_discretize.html'>step_discretize()</a></code>.</p>
<p>The argument <code>Laplace</code> is an small quantity added to the
proportions of 1's and 0's with the goal to avoid log(p/0) or
log(0/p) results. The numerical woe versions will have names that
begin with <code>woe_</code> followed by the respective original name of the
variables. See Good (1985).</p>
<p>One can pass a custom <code>dictionary</code> tibble to <code>step_woe()</code>.
It must have the same structure of the output from
<code><a href='dictionary.html'>dictionary()</a></code> (see examples). If not provided it will be
created automatically. The role of this tibble is to store the map
between the levels of nominal predictor to its woe values. You may
want to tweak this object with the goal to fix the orders between
the levels of one given predictor. One easy way to do this is by
tweaking an output returned from <code><a href='dictionary.html'>dictionary()</a></code>.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Kullback, S. (1959). <em>Information Theory and Statistics.</em> Wiley, New York.</p>
<p>Hastie, T., Tibshirani, R. and Friedman, J. (1986). <em>Elements of Statistical Learning</em>, Second Edition, Springer, 2009.</p>
<p>Good, I. J. (1985), "Weight of evidence: A brief survey", <em>Bayesian Statistics</em>, 2, pp.249-270.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://modeldata.tidymodels.org'>modeldata</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"credit_data"</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>111</span><span class='op'>)</span>
<span class='va'>in_training</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>credit_data</span><span class='op'>)</span>, <span class='fl'>2000</span><span class='op'>)</span>

<span class='va'>credit_tr</span> <span class='op'>&lt;-</span> <span class='va'>credit_data</span><span class='op'>[</span> <span class='va'>in_training</span>, <span class='op'>]</span>
<span class='va'>credit_te</span> <span class='op'>&lt;-</span> <span class='va'>credit_data</span><span class='op'>[</span><span class='op'>-</span><span class='va'>in_training</span>, <span class='op'>]</span>

<span class='va'>rec</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://recipes.tidymodels.org/reference/recipe.html'>recipe</a></span><span class='op'>(</span><span class='va'>Status</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>credit_tr</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>step_woe</span><span class='op'>(</span><span class='va'>Job</span>, <span class='va'>Home</span>, outcome <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span><span class='op'>(</span><span class='va'>Status</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>woe_models</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://recipes.tidymodels.org/reference/prep.html'>prep</a></span><span class='op'>(</span><span class='va'>rec</span>, training <span class='op'>=</span> <span class='va'>credit_tr</span><span class='op'>)</span>

<span class='co'># the encoding:</span>
<span class='fu'><a href='https://recipes.tidymodels.org/reference/bake.html'>bake</a></span><span class='op'>(</span><span class='va'>woe_models</span>, new_data <span class='op'>=</span> <span class='va'>credit_te</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/slice.html'>slice</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>)</span>, <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span><span class='op'>(</span><span class='st'>"woe"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 5 x 2</span><span>
#&gt;   woe_Job woe_Home
#&gt;     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span>   0.451  -</span><span style='color: #BB0000;'>0.519</span><span> 
#&gt; </span><span style='color: #BCBCBC;'>2</span><span>  -</span><span style='color: #BB0000;'>0.187</span><span>   0.512 
#&gt; </span><span style='color: #BCBCBC;'>3</span><span>   0.451   0.512 
#&gt; </span><span style='color: #BCBCBC;'>4</span><span>  -</span><span style='color: #BB0000;'>0.187</span><span>   0.512 
#&gt; </span><span style='color: #BCBCBC;'>5</span><span>  -</span><span style='color: #BB0000;'>1.51</span><span>    0.051</span><span style='text-decoration: underline;'>9</span><span></div><div class='input'><span class='co'># the original data</span>
<span class='va'>credit_te</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/slice.html'>slice</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>Job</span>, <span class='va'>Home</span><span class='op'>)</span>
</div><div class='output co'>#&gt;         Job    Home
#&gt; 1     fixed    rent
#&gt; 2 freelance   owner
#&gt; 3     fixed   owner
#&gt; 4 freelance   owner
#&gt; 5   partime parents</div><div class='input'><span class='co'># the details:</span>
<span class='fu'><a href='https://generics.r-lib.org/reference/tidy.html'>tidy</a></span><span class='op'>(</span><span class='va'>woe_models</span>, number <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 12 x 10</span><span>
#&gt;    terms value     n_tot n_bad n_good   p_bad  p_good      woe outcome id       
#&gt;    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>    
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> Job   fixed      </span><span style='text-decoration: underline;'>1</span><span>261   273    988 0.451   0.708     0.451  Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> Job   freelance   463   159    304 0.263   0.218    -</span><span style='color: #BB0000;'>0.187</span><span>  Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> Job   others       74    39     35 0.064</span><span style='text-decoration: underline;'>5</span><span>  0.025</span><span style='text-decoration: underline;'>1</span><span>   -</span><span style='color: #BB0000;'>0.944</span><span>  Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> Job   partime     201   133     68 0.220   0.048</span><span style='text-decoration: underline;'>7</span><span>   -</span><span style='color: #BB0000;'>1.51</span><span>   Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> Job   </span><span style='color: #BB0000;'>NA</span><span>            1     1      0 0.001</span><span style='text-decoration: underline;'>65</span><span> 0       -</span><span style='color: #BB0000;'>14.7</span><span>    Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> Home  ignore        8     4      4 0.006</span><span style='text-decoration: underline;'>61</span><span> 0.002</span><span style='text-decoration: underline;'>87</span><span>  -</span><span style='color: #BB0000;'>0.835</span><span>  Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> Home  other       161    78     83 0.129   0.059</span><span style='text-decoration: underline;'>5</span><span>   -</span><span style='color: #BB0000;'>0.773</span><span>  Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> Home  owner       931   192    739 0.317   0.530     0.512  Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> Home  parents     336    98    238 0.162   0.171     0.051</span><span style='text-decoration: underline;'>9</span><span> Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> Home  priv        113    42     71 0.069</span><span style='text-decoration: underline;'>4</span><span>  0.050</span><span style='text-decoration: underline;'>9</span><span>   -</span><span style='color: #BB0000;'>0.310</span><span>  Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> Home  rent        446   188    258 0.311   0.185    -</span><span style='color: #BB0000;'>0.519</span><span>  Status  woe_omZtf
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> Home  </span><span style='color: #BB0000;'>NA</span><span>            5     3      2 0.004</span><span style='text-decoration: underline;'>96</span><span> 0.001</span><span style='text-decoration: underline;'>43</span><span>  -</span><span style='color: #BB0000;'>1.24</span><span>   Status  woe_omZtf</div><div class='input'>
<span class='co'># Example of custom dictionary + tweaking</span>
<span class='co'># custom dictionary</span>
<span class='va'>woe_dict_custom</span> <span class='op'>&lt;-</span> <span class='va'>credit_tr</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='dictionary.html'>dictionary</a></span><span class='op'>(</span><span class='va'>Job</span>, <span class='va'>Home</span>, outcome <span class='op'>=</span> <span class='st'>"Status"</span><span class='op'>)</span>
<span class='va'>woe_dict_custom</span><span class='op'>[</span><span class='fl'>4</span>, <span class='st'>"woe"</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>1.23</span> <span class='co'>#tweak</span>

<span class='co'>#passing custom dict to step_woe()</span>
<span class='va'>rec_custom</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://recipes.tidymodels.org/reference/recipe.html'>recipe</a></span><span class='op'>(</span><span class='va'>Status</span> <span class='op'>~</span> <span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>credit_tr</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>step_woe</span><span class='op'>(</span><span class='va'>Job</span>, <span class='va'>Home</span>, outcome <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span><span class='op'>(</span><span class='va'>Status</span><span class='op'>)</span>, dictionary <span class='op'>=</span> <span class='va'>woe_dict_custom</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='va'>prep</span>

<span class='va'>rec_custom_baked</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://recipes.tidymodels.org/reference/bake.html'>bake</a></span><span class='op'>(</span><span class='va'>rec_custom</span>, new_data <span class='op'>=</span> <span class='va'>credit_te</span><span class='op'>)</span>
<span class='va'>rec_custom_baked</span> <span class='op'>%&gt;%</span> <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>woe_Job</span> <span class='op'>==</span> <span class='fl'>1.23</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='va'>head</span>
</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 6 x 14</span><span>
#&gt;   Seniority  Time   Age Marital Records Expenses Income Assets  Debt Amount
#&gt;       </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;fct&gt;</span><span>   </span><span style='color: #949494;font-style: italic;'>&lt;fct&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>  </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span>         0    48    41 married no            90     80      0     0   </span><span style='text-decoration: underline;'>1</span><span>200
#&gt; </span><span style='color: #BCBCBC;'>2</span><span>         0    18    21 single  yes           35     50      0     0    400
#&gt; </span><span style='color: #BCBCBC;'>3</span><span>         0    36    23 single  no            45    122   </span><span style='text-decoration: underline;'>2</span><span>500     0    400
#&gt; </span><span style='color: #BCBCBC;'>4</span><span>        14    24    51 married no            75    198   </span><span style='text-decoration: underline;'>1</span><span>000     0    450
#&gt; </span><span style='color: #BCBCBC;'>5</span><span>         1    60    26 single  no            35    120      0     0   </span><span style='text-decoration: underline;'>1</span><span>150
#&gt; </span><span style='color: #BCBCBC;'>6</span><span>         1    36    24 married no            76    164      0     0    900
#&gt; </span><span style='color: #949494;'># … with 4 more variables: Price &lt;int&gt;, Status &lt;fct&gt;, woe_Job &lt;dbl&gt;,</span><span>
#&gt; </span><span style='color: #949494;'>#   woe_Home &lt;dbl&gt;</span><span></div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>embed is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Max Kuhn.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


